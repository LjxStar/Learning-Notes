# 一、命题逻辑
## 1.1 命题的基本概念
**命题**：判断**结果唯一**的**陈述句**。
**命题的真值**：真值只有 **1或0**，表示**判断的结果**。
**真命题**：真值为 1 的命题。
**假命题**：真值为 0 的命题。
⚠️**命题必须是一个陈述句**，并且**它的真假值必须是唯一且确定的**。因此，**感叹句、祈使句、疑问句**都不是命题；**陈述句中的悖论**，因其判断结果无法唯一确定，所以不属于命题。

**简单命题**：也称**原子命题**,**不能被分解**成更简单的命题。
**复合命题**：由简单命题通过**联结词**联结而成的命题。
⚠️**简单命题**用**小写英文字母** p,q,r⋯或 p1,p2,p3⋯表示；用 **1 表示真**，用 **0 表示假**。

## 1.2 五个基本联结词
| 联结词类型 | 符号表示 | 公式形式 | 核心特点                                          | 常见自然语言表示                                |     |
| :---: | :--: | :--: | :-------------------------------------------- | --------------------------------------- | --- |
|  否定   |  ¬   |  ¬P  | 与原命题**真值相反**：P 真则 ¬P 假，P 假则 ¬P 真              | **不**、并非、没有、否定                          |     |
|  合取   |  ∧   | P∧Q  | 全真才真，一假则假**（类似于取最小值）**                        | **并**且、既… 又…、同时、和、不仅… 而且…               |     |
|  析取   |  ∨   | P∨Q  | 全假才假，一真则真**（类似于取最最大值）**                       | **或**者、可能… 也可能…、至少一个                    |     |
|  蕴含   |  →   | P→Q  | 仅当 P 真 Q 假时为假（P 是前件，Q 是后件；**“前真后假” 是唯一假值情况**） | 如果P那么Q、只要P就Q、若P则Q、一旦P就Q、**只有Q才P、除非Q才P** |     |
|  等价   |  ↔   | P↔Q  | “**同真同假**”则真，“一真一假”则假                         | 当且仅当、等价于、充要条件、… 与… 相同                   |     |
⚠️**注意**
- 否定（¬）是**单目联结词**，其他均为**双目联结词**；
- 析取（∨）是 “**兼容或/向容或**”（如 “小明会编程或会设计”，允许两者都成立），“**排斥或**”（要么… 要么…，不可同时成立）需用公式 **(P∨Q)∧¬(P∧Q) 或 (P∧¬Q)∨(¬P∧Q)** 表示；
- 蕴含（→）：**与自然语言不同，蕴含式不要求前件和后件有实际因果关系，仅看真值组合**；对于P→Q，**Q 是 P 的必要条件，P 是 Q 的充分条件。**
- 等价（↔）：对于P↔Q，**P 与 Q 互为充分/必要条件**

各联结词运算的优先级：**否定（¬）> 合取（∧）> 析取（∨）> 蕴含（→）> 等价（↔）**；
对于同级：单目运算符，从右向左。双目运算符，从左到右；
括号优先级最高：无论联结词优先级如何，**括号内的表达式优先计算**

## 1.3 合式公式
### 1.3.1 命题变项

- **命题常项/常元**：一个命题标识符**表示确定**的命题 (a, b, c)
- **命题变项/变元**：一个命题标识符**表示不确定**的命题 (x, y, z)

*命题常项和变项均由字母表示*

### 1.3.2 构造规则
1. **基础规则**
	单个**命题变项**或**命题常项**是合式公式；
2. **递归规则**
	若 A、B 是合式公式，则 (¬A), (¬B), (A∧B), (A∨B), (A→B), (A↔B)也是**合式公式**；
3. **封闭规则**
	**有限次**地应用1—2形成的公式才是合式公式。

### 1.3.2 公式层次

设 A 是合式公式，其层次 n 定义如下：

1. **基础层（层次为 0）**：单个命题变项或命题常项，层次为 0（无任何联结词）；
2. **否定层（层次 n+1）**：若 A 是层次为 n 的合式公式，则 ¬A 的层次为 n+1；
3. **二元联结词层（层次 max (n,m)+1）**：若 **A 是层次为 n** 的合式公式，**B 是层次为 m** 的合式公式，则 A∧B、A∨B、A→B、A↔B 的层次均为 **max(n,m) + 1**。

## 1.4 公式赋值与真值表
设 p<sub>1</sub>,p<sub>2</sub>,⋯,p<sub>n</sub> 是在 A 中出现的所有命题变项，A 是一个合式公式，a<sub>1</sub>,a<sub>2</sub>,⋯,a<sub>n</sub> 是 p<sub>1</sub>,p<sub>2</sub>,⋯,p<sub>n</sub> 的真值，则称 a<sub>1</sub>,a<sub>2</sub>,⋯,a<sub>n</sub> 是 A 的一个**赋值**或**解释**。

- 成真赋值对应**真命题**、成假赋值对应**假命题**
- **重言式** 或 **永真式**：对任何赋值，公式的值都为真
- **矛盾式** 或 **永假式**：对任何赋值，公式的值都为假
- 若一个公式不是矛盾式，则称它是**可满足式**。

**真值表**：**直观呈现合式公式在所有可能赋值下真值情况**的表格。

# 二、等值演算 
## 2.1 基本等值式
**1.双重否定律**：
			$\neg(\neg A) \Leftrightarrow A$
**2.幂等律：**
			$A \land A \Leftrightarrow A$
			$A \lor A \Leftrightarrow A$
**3.交换律：** 
			$A \land B \Leftrightarrow B \land A$
			$A \lor B \Leftrightarrow B \lor A$
**4.结合律：**
			$A \land (B \land C) \Leftrightarrow (A \land B) \land C$
			$A \lor (B \lor C) \Leftrightarrow (A \lor B) \lor C$
**5.分配律：**
			$A \land (B \lor C) \Leftrightarrow (A \land B) \lor (A \land C)$
			$A \lor (B \land C) \Leftrightarrow (A \lor B) \land (A \lor C)$
**6.吸收律：**
			$A \land (A \lor B) \Leftrightarrow A$
			$A \lor (A \land B) \Leftrightarrow A$
**7.  德摩根律：**
			$\neg(A \land B) \Leftrightarrow \neg A \lor \neg B$
			$\neg(A \lor B) \Leftrightarrow \neg A \land \neg B$
**8. 零律：**
			$A \land 0 \Leftrightarrow 0$
			$A \lor 1 \Leftrightarrow 1$
**9. 同一律：**
			$A \land 1 \Leftrightarrow A$
			$A \lor 0 \Leftrightarrow A$
**10. 排中律：**
			$A \lor \neg A \Leftrightarrow 1$
**11.矛盾律：**
			$A \land \neg A \Leftrightarrow 0$
**12.蕴含等值式：**
			$A \rightarrow B \Leftrightarrow \neg A \lor B$
**13.假言易位：**
			$A \rightarrow B \Leftrightarrow \neg B \rightarrow \neg A$
**14. 等价等值式：**
			$A \leftrightarrow B \Leftrightarrow (A \rightarrow B) \land (B \rightarrow A)$
**15. 等价否定等值式：**
			$A \leftrightarrow B \Leftrightarrow \neg A \leftrightarrow \neg B$
**16. 归谬论：**
			$(A \rightarrow B) \land (A \rightarrow \neg B) \Leftrightarrow \neg A$

## 2.2 等值演算
### 2.3.1 置换规则
设 Φ(A) 是含命题公式 A 的复合公式，Φ(B) 是用公式 B 置换 Φ(A) 中的 A 的所有出现后得到的命题公式。若 $A \Leftrightarrow B$，则 $Φ(A) \Leftrightarrow Φ(B)$
### 2.3.2 逻辑等值
设 A 和 B 是两个命题公式（由命题变项、联结词、括号组成），若对所有命题变项的真值赋值，A 和 B 的真值都相同，则称 A 与 B **逻辑等值**，记为 $A \Leftrightarrow B$
注意：$\Leftrightarrow$ 是 “等值关系” 符号，不是联结词；联结词用 $\leftrightarrow$，表示 “等价式”）。
### 2.3.3 等值演算
用于**判断两个命题公式是否逻辑等值**，也是化简命题公式、求解主范式、证明逻辑等价性的基础。
### 2.3.4 演算方法
**（一）证明两个命题公式等值**
1. 单向推导法（其中一个公式结构更复杂，可向简单公式推导）
2. 双向汇聚法（若 $A \Leftrightarrow B$ 和 $A \Leftrightarrow C$, 则 $B \Leftrightarrow C$）
3. 真值表辅助法
**（二）化简命题公式**
**逐步消元化简法**
	消除冗余联结词：将 $\rightarrow、\leftrightarrow$ 全部转化为 $\neg、\lor、\land$（用蕴涵等值式、等价等值式）。
	否定词内移：用德摩根定律将 $\neg$ 移到命题变项前，再用双重否定律消除多余 $\neg$。
	消除重复变项：用幂等律$A \lor A \Leftrightarrow A、A \land A \Leftrightarrow A$消除重复的变项。
	吸收冗余子公式：用吸收律$A \lor (A \land B) \Leftrightarrow A、A \land (A \lor B) \Leftrightarrow A$消除多余的子公式。
	优化结构：用分配律、交换律、结合律整理公式，合并同类项。
**（三）判断公式类型**
**（四）求解主析取范式 / 主合取范式**

## 2.3 析取范式与合取范式
**1.简单合取式与简单析取式**
**简单析取式**：由命题变项或其否定通过 “∨”（析取）连接而成的公式。如p,¬q,p∨q,¬p∨q,¬p∨¬q
**简单合取式**：由命题变项或其否定文字通过 “∧”（合取）连接而成的公式。如p,¬q,p∧q,¬p∧q,¬p∧¬q
**单个文字既是析取式又是合取式**。
一个简单析取式是**重言式**当且仅当它包含一个命题变项和它的否定。
一个简单合取式是**矛盾式**当且仅当它包含一个命题变项和它的否定。

**2.析取范式与合取范式**
**析取范式**：由有限个简单合取式通过 “∨” 连接而成的公式。如(p∧q)∨(¬p∧¬q)、p∧¬q、¬p
**合取范式**：由有限个简单析取式通过 “∧” 连接而成的公式。如(p∨q)∧(¬p∨¬q)、p∨¬q、¬p
任意命题公式都能通过 “德摩根定律”“分配律” 转化为析取范式或合取范式。

**3. 主析取范式与主合取范式**
**主析取范式**：m<sub>0</sub>∨m<sub>1</sub>∨⋯∨m<sub>2n−1</sub>​其中 m<sub>i</sub> 被称作**极小项**，是n个文字的析取 m<sub>i</sub>​ 的第 j 个文字是 p<sub>j​</sub> 或 ¬p<sub>j​</sub> 若 i 的二进制表示为 b<sub>1</sub>b<sub>2</sub>⋯b<sub>n</sub>​，则 m<sub>i</sub> 为$p_1^{b_1}\wedge p_2^{b_2}\wedge\cdots\wedge p_n^{b_n}$ 表示 p<sub>j​</sub> 若 b<sub>j</sub>=1 则取 p<sub>j​</sub>，否则取 ¬p<sub>j</sub>
**主合取范式**：M<sub>0</sub>∧M<sub>1</sub>∧⋯∧M<sub>2n−1</sub> ​其中 M<sub>i</sub> 被称作**极大项**，是n个文字的合取 M<sub>i​</sub> 的第 j 个文字是 p<sub>j</sub> 或 ¬p<sub>j</sub> 若 i 的二进制表示为 b<sub>1</sub>b<sub>2</sub>⋯b<sub>n</sub>​，则 M<sub>i​</sub> 为 $p_1^{b_1}\wedge p_2^{b_2}\wedge\cdots\wedge p_n^{b_n}$ 表示 p<sub>j​</sub> 若 b<sub>j</sub>=1 则取 p<sub>j​</sub>，否则取 ¬p<sub>j</sub>​
任意一个命题公式都可以化为**唯一的**主析取范式和主合取范式

==主析取找真，对应极小项。主合取找假，对应极大项。==

**4.主范式构造方法**
- 等值演算法
	**主析取范式** 
	对每个简单合取式，若缺少某变项 x，则用 $\land (x \lor \neg x)$ 补全（利用排中律 $x \lor \neg x \Leftrightarrow 1$，不改变真值），再用分配律展开为极小项。
	用幂等律 $A \lor A \Leftrightarrow A$ 消除重复极小项，按编码升序排列。
	
	**主合取范式** 
	用幂等律 $A \land A \Leftrightarrow A$ 消除重复极大项，按编码升序排列。
	对每个简单析取式，若缺少某变项 x，则用 $\lor (x \land \neg x)$ 补全（利用矛盾律 $x \land \neg x \Leftrightarrow 0$，不改变真值），再用分配律展开为极大项。
	
	其余步骤与等值演算大致一致。

- 真值表法
	在真值表中分别找**成真**或**成假**赋值，分别转化为**极小项**或**极大项**。按编码升序排列，通过**析取**或**合取**得到对应的**主范式**

## 2.4 联结词的完备集
- 或非：↓
    A↓B⇔¬(A∨B)⇔¬A∧¬B
- 与非：↑
    A↑B⇔¬(A∧B)⇔¬A∨¬B
若 S 是连接词完备集，从 S 中去掉任意一个连接词后 S 不再是完备集，则称 S 为**最小连接词完备集**

## 2.5 消解算法

**C<sub>1​</sub>∧C<sub>2​</sub>≈Res(C<sub>1</sub>​,C<sub>2</sub>​)=C<sub>1</sub>​’∨C<sub>2</sub>​’**

1. 若 C<sub>1</sub>∧C<sub>2</sub>↔(l∨C<sub>1</sub>’)∧(¬l∨C<sub>2</sub>’) 是可满足的，则称 C<sub>1</sub>’∨C<sub>2</sub>’ 也是可满足的
2. 若 C<sub>1</sub>’∨C<sub>2</sub>’是可满足的，则称 C<sub>1</sub>∧C<sub>2</sub>​ 也是可满足的故可将 C<sub>1</sub>∧C<sub>2</sub>​ 化为 C<sub>1</sub>’∨C<sub>2</sub>’，称作**消解**

# 三、推理理论
## 3.1 推理定义
当 A<sub>1</sub>∧A<sub>2</sub>∧⋯∧A<sub>n</sub>→B 是重言式时，称 B 由 A<sub>1</sub>,A<sub>2</sub>,⋯,A<sub>n</sub>​ 推出，记作 {A<sub>1</sub>,A<sub>2</sub>,⋯,A<sub>n</sub>}⊢B。
A<sub>1</sub>,A<sub>2</sub>,⋯,A<sub>n</sub>​ 称作**前提**，B 称作**结论**。

## 3.2 推理定理
**1.附加律**
			$A \Rightarrow A \land B$
**2.化简律**
			$A \land B \Rightarrow A$
**3.假言推理**
			$A \land (A \to B) \Rightarrow B$
**4.拒取式**
			$\neg A \land \neg B \Rightarrow \neg(A \land B)$
**5.析取三段论**
			$A \lor B,\ \neg A \Rightarrow B$
**6.假言三段论**
			$A \to B,\ B \to C \Rightarrow A \to C$
**7.等价三段论**
			$A \leftrightarrow B,\ B \leftrightarrow C \Rightarrow A \leftrightarrow C$
**8.构造性二难**
			$A \to B,\ C \to D,\ A \lor C \Rightarrow B \lor D$
			$A \to B,\ \neg A \to B \Rightarrow B$
**8.破坏性二难**
			$A \to B,\ C \to D,\ \neg B \lor \neg D \Rightarrow \neg A \lor \neg C$
			$A \to B,\ \neg B \to A \Rightarrow A \leftrightarrow B$

## 3.3 自然推理系统
**1.字母表**

- **命题变项符号**：$p, q, r, \dots, p_i, q_i, r_i, \dots$
- **联结词符号**： $\neg、\land、\lor、\to、\leftrightarrow$
- **括号与逗号**：( )、,

**2.合式公式 #**[[数理逻辑#1.3.2 构造规则]]

**3.推理规则**
	1. 前提引入规则
	2. 结论引入规则
	3. 置换规则
	**+推理定理** [[数理逻辑#3.2 推理定理]]

## 3.4 构造证明法
**1.直接证明法**

**2.附加前提证明法**
附加前提证明法适用于结论为**蕴涵式**或**等价式**
- 欲证
    - 前提：A<sub>1</sub>,A<sub>2</sub>,…,A<sub>k</sub>
    - 结论：C→B
- 等价地证明
    - 前提：A<sub>1</sub>,A<sub>2</sub>,…,A<sub>k</sub>,C
    - 结论：B

**3.归谬法**
- 欲证
    - 前提：A<sub>1</sub>,A<sub>2</sub>,…,A<sub>k</sub>
    - 结论：B
- 等价地证明
    - 前提：A<sub>1</sub>,A<sub>2</sub>,…,A<sub>k</sub>,¬B
    - 结论：0

# 四、谓词逻辑
## 4.1 一阶谓词逻辑
### 4.1.1 核心符号
**逻辑符号**
	联结词：¬、∧、∨、→、↔；
	量词：∀（全称量词，“对所有”，“任意”）、∃（存在量词，“存在某个”，“至少一个”）；
	个体变元：x、y、z、x₁、y₂…（表示不确定的个体）；
	辅助符号：( )、“,”。
**非逻辑符号**
	个体常元：a、b、c、a₁…（表示确定的个体）；
	谓词符号：P、Q、R、Pₙ…（n 元谓词，表个体的属性或个体间的关系：一元谓词如 P (x) ：“x 是偶数”，二元谓词如 Q (x,y)：“x 大于 y”）；
	函数符号：f、g、h、fₙ…（n 元函数，表个体到个体的映射）。
### 4.1.2 核心语法
**1.项（Term）：仅表示 “个体” 的合法表达式**

- 基础规则：个体常元（a、b）和个体变元（x、y）是项；
- 递归规则：若 f 是 n 元函数，t₁、t₂、…、tₙ是项，则 f (t₁,t₂,…,tₙ) 是项（如 f (x)、g (x,f (y))、h (a,b,x)）；
- 封闭规则：仅通过以上规则生成的表达式才是项。

**2.合式公式**

- 基础规则：若 P 是 n 元谓词，t₁、t₂、…、tₙ是项，则 P (t₁,t₂,…,tₙ) 是**原子公式**；
- 联结词扩展规则：
    若 A 是合式公式，则 ¬A 是合式公式；
    若 A、B 是合式公式，则 (A∧B)、(A∨B)、(A→B)、(A↔B) 是合式公式；
- 量词扩展规则：
    若 A 是合式公式，x 是个体变元，则 (∀x A)、(∃x A) 是合式公式；
- 封闭规则：仅通过以上规则生成的表达式才是合式公式；
- 简写规则：**量词优先级高于联结词**，可**省略冗余括号**。

### 4.1.3 常见概念

- 量词的**辖域**：量词作用的合式公式范围（如∀x (P (x)∨Q (x)) 中，∀x 的辖域是 P (x)∨Q (x)，∀x P (x)∨Q (x) 中，∀x 的辖域仅为 P (x)）；
- **指导变元**：紧跟在量词（∀、∃）之后的个体变元，量词 “管辖” 的目标变元；
- **约束变元**：被量词直接绑定的个体变元，及其在量词辖域内的所有出现（**约束出现**）（如∀x (P (x)→∃y Q (x,y)) 中，x 被∀x 绑定，y 被∃y 绑定，均为约束变元）；
- **自由变元**：未被任何量词绑定的个体变元（**自由出现**）（如∃x Q (x,y) 中的 y，∀x P (x)∨R (z) 中的 z）。

## 4.2 基本等值式
**1. 命题逻辑的基础等值式**
所有命题逻辑等值式可直接推广到谓词逻辑，只需将命题变元替换为谓词公式
[[数理逻辑#2.1 基本等值式]]

**2.量词相关等值式**
（A (x)、B (x) 为含自由变元 x 的谓词公式；B 为不含 x 的谓词公式；y 为未在 A (x) 中出现的变元）
**①量词否定等值式​**
	$\neg\forall xA(x)\Leftrightarrow\exists x\neg A(x)$
    $\neg\exists xA(x)\Leftrightarrow\forall x\neg A(x)$
    
**②量词辖域收缩与扩张等值式​**
- 辖域内为**合取 / 析取​**
	$\forall x(A(x)\land B)\Longleftrightarrow\forall xA(x)\land B$
	$\forall x (A (x)\lor B)\Longleftrightarrow\forall xA (x)\lor B$
	$\exists x(A(x)\land B)\Longleftrightarrow\exists xA(x)\land B$
	$\exists x (A (x)\lor B)\Longleftrightarrow\exists xA (x)\lor B$
- 辖域内为**蕴含式**​
	$\forall x(A(x)\rightarrow B)\Leftrightarrow\exists xA(x)\rightarrow B$
	$\forall x(B\rightarrow A(x))\Leftrightarrow B\rightarrow\forall xA(x)$
	$\exists x(A(x)\rightarrow B)\Leftrightarrow\forall xA(x)\rightarrow B$
	$\exists x(B\rightarrow A(x))\Leftrightarrow B\rightarrow\exists xA(x)$​

③**量词分配等值式**
    $\forall x (A (x)\wedge B (x))\Leftrightarrow\forall xA (x)\wedge\forall xB (x)$
    $\exists x (A (x)\vee B (x))\Leftrightarrow\exists xA (x)\vee\exists xB (x)$
		❌全称量词对析取、存在量词对合取**不满足分配律**
		$\forall x(A(x)\lor B(x))\Leftarrow\forall xA(x)\lor\forall xB(x)$ v
		$\exists x(A(x)\land B(x))\Rightarrow\exists xA(x)\land\exists xB(x)$
		❌量词对蕴含式**不满足分配律**
		$\exists x A(x) \to \forall x B(x) \Rightarrow \forall x (A(x) \to B(x))$
		$\exists x (A(x) \to B(x)) \Leftrightarrow \forall x A(x) \to \exists x B(x)$

**3.置换规则与换名规则**
- 置换规则：若 A⇔B 则 F(A)⇔F(B)。[[#2.3.1 置换规则]]
- 换名规则：将公式 A 中某量词辖域内的所有**约束变元**替换为该辖域中**未出现**的个体变项符号。

## 4.3 前束范式
### 4.3.1 定义
设 A 为一阶逻辑公式，若 A 的量词部分出现在公式的最前面，则称 A 为**前束范式**。即 A 可以表示为：
$$Q_1x_1Q_2x_2\cdots Q_nx_nB$$
其中 Q<sub>i​</sub> 为量词，x<sub>i​</sub> 为变项，B 为不含量词的公式。**一阶逻辑中的任何公式都存在与之等值的前束范式**。

### 4.3.2 转化方法

1. 利用蕴含和等价式转化；
2. 利用量词否定公式，把否定深入到命题变元和谓词公式的前面；
3. 利用换名规则换名；
4. 利用量词辖域收缩与扩张等值式，把量词提到前面。

## 4.4 推理定理
**1.命题逻辑的推理定理**
[[数理逻辑#3.2 推理定理]]
**2.由基本等值式生成的推理定理**
[[数理逻辑#4.2 基本等值式]]
**3.一些重要的推理定理**
	$\forall x A(x) \lor \forall x B(x) \Rightarrow \forall x (A(x) \lor B(x))$
	$\exists x (A(x) \land B(x)) \Rightarrow \exists x A(x) \land \exists x B(x)$
	$\exists x A(x) \to \forall x B(x) \Rightarrow \forall x (A(x) \to B(x))$
	$\exists x (A(x) \to B(x)) \Leftrightarrow \forall x A(x) \to \exists x B(x)$
**4.条消去量词和引入量词的规则**
**1.全称量词消去规则**（$\forall -$）
	$\forall x A(x) \vdash A(a)$

**2.全称量词引入规则**（$\forall +$）​
    $A(a) \vdash \forall x A(x)$

**3.存在量词消去规则**（$\exists -$）​
	$\exists x A(x) \vdash A(a)$

**4.存在量词引入规则**（$\exists +$）​
	$A(a) \vdash \exists x A(x)$

***a 必须是任意选取的个体，且不依赖于含存在量词的前提。***